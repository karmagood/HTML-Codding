<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Kumpel</title>
    <style>
        .Layout {}
        .Layout__section {}

        .Show-hide {}

        .Show-hide__content { border: 1px solid black; }
        .Show-hide__content_hidden {display: none;}
        .Show-hide__toggle {}


        .Comments {}
        .Comments__comment {
            background: gold;
            margin: 5px;
        }
        .Comments__load-more {

        }
        .Comments__load-more_hidden {
            display: none;
        }

        .Comments__comment_hidden {
            display: none;
        }


    </style>
</head>
<body class="Layout">
    <section class="Layout__section">

        <div class="Show-hide">
            <div class = "Show-hide__content">

                <div class="Comments">
                    <div class="Comments__wrapper">
                        <div class="Comments__comment ">Lorem ipsum dolor sit amet, consectetur adipisicing elit. Error
                            explicabo laudantium porro quaerat quo repellendus saepe sit tempore. A beatae debitis dolore
                            ducimus, itaque maiores nam nemo neque tempora veritatis.
                        </div>
                        <div class="Comments__comment Comments__comment_hidden">Alias aperiam asperiores commodi dolores doloribus excepturi impedit
                            labore laborum laudantium, minus molestiae perferendis quae quis rerum soluta ullam vel. Aliquam
                            dolorum et in ipsa nemo nostrum repudiandae sit vitae.
                        </div>
                        <div class="Comments__comment Comments__comment_hidden">Aspernatur beatae blanditiis dolor dolores ea excepturi, fugit hic
                            inventore iusto labore maiores provident quae ratione. Cumque deserunt facere illum obcaecati
                            optio placeat provident, ratione sapiente, similique, ullam veniam vitae.
                        </div>
                        <div class="Comments__comment Comments__comment_hidden">Aperiam beatae blanditiis cupiditate debitis delectus fugiat in ipsa
                            iste labore laboriosam nemo odit optio perspiciatis, recusandae repellendus saepe similique
                            vitae voluptas? Cupiditate delectus illo iste laborum ratione, sit temporibus.
                        </div>

                        <div class="Comments__comment Comments__comment_hidden">Aspernatur beatae blanditiis dolor dolores ea excepturi, fugit hic
                            inventore iusto labore maiores provident quae ratione. Cumque deserunt facere illum obcaecati
                            optio placeat provident, ratione sapiente, similique, ullam veniam vitae.
                        </div>
                        <div class="Comments__comment Comments__comment_hidden">Aperiam beatae blanditiis cupiditate debitis delectus fugiat in ipsa
                            iste labore laboriosam nemo odit optio perspiciatis, recusandae repellendus saepe similique
                            vitae voluptas? Cupiditate delectus illo iste laborum ratione, sit temporibus.
                        </div>
                    </div>
                    <button class="Comments__load-more">Load More</button>
                </div>

            </div>

            <button class="Show-hide__toggle">Expand</button>
        </div>


    </section>

    <section class="Layout__section">

        <div class="Show-hide">
            <div class = "Show-hide__content">
                <div class="Comments">
                    <div class="Comments__wrapper">
                        <div class="Comments__comment">Lorem ipsum dolor sit amet, consectetur adipisicing elit. Error
                            explicabo laudantium porro quaerat quo repellendus saepe sit tempore. A beatae debitis dolore
                            ducimus, itaque maiores nam nemo neque tempora veritatis.
                        </div>
                        <div class="Comments__comment Comments__comment_hidden">Alias aperiam asperiores commodi dolores doloribus excepturi impedit
                            labore laborum laudantium, minus molestiae perferendis quae quis rerum soluta ullam vel. Aliquam
                            dolorum et in ipsa nemo nostrum repudiandae sit vitae.
                        </div>
                        <div class="Comments__comment Comments__comment_hidden">Aspernatur beatae blanditiis dolor dolores ea excepturi, fugit hic
                            inventore iusto labore maiores provident quae ratione. Cumque deserunt facere illum obcaecati
                            optio placeat provident, ratione sapiente, similique, ullam veniam vitae.
                        </div>
                        <div class="Comments__comment Comments__comment_hidden">Aperiam beatae blanditiis cupiditate debitis delectus fugiat in ipsa
                            iste labore laboriosam nemo odit optio perspiciatis, recusandae repellendus saepe similique
                            vitae voluptas? Cupiditate delectus illo iste laborum ratione, sit temporibus.
                        </div>
                    </div>

                    <button class="Comments__load-more">Load More</button>
                </div>
            </div>

            <button class="Show-hide__toggle">Expand</button>
        </div>


    </section>

    <section class="Layout__section">

        <div class="Show-hide">
            <div class = "Show-hide__content">
                Lorem ipsum dolor sit amet, consectetur adipisicing elit. Ad aspernatur cumque distinctio enim est exercitationem fuga molestiae nemo nesciunt optio perferendis porro provident qui sint ut vel velit, voluptas voluptatibus.
            </div>

            <button class="Show-hide__toggle">Expand</button>
        </div>


    </section>

    <script>
        const findParentBySelector = (selector, el) => {
            const father = el.parentNode;
            if (father.nodeName === "BODY") { return null; }
            if (father.matches(selector)) {
                return father;
            } else {
                return findParentBySelector (selector, father)
            }
        };

        const togglers = document.querySelectorAll(".Show-hide__toggle");

        for (let i =0; i < togglers.length; i++) {
            togglers[i].addEventListener("click", function () {

                const container = findParentBySelector (".Show-hide", this);

                if (container) {
                    const content = container.querySelector(".Show-hide__content")

                    if (content) {
                        content
                            .classList
                            .toggle("Show-hide__content_hidden")
                    }
                }

            })
        }
    </script>

    <script>
        const Comments = document.querySelectorAll(".Comments");
        for (let i =0 ; i < Comments.length; i++) {
            Comments[i]
                .querySelector(".Comments__load-more")
                .addEventListener("click", function () {
                    const component = Comments[i];
                    const wrapper = component.querySelector(".Comments__wrapper");

                    const hidden = wrapper
                        .querySelectorAll(".Comments__comment_hidden");

                    if (hidden.length) {
                        for (let i =0 ; i < 2; i++) {
                            if (hidden[i]) {
                                hidden[i]
                                    .classList
                                    .remove("Comments__comment_hidden")
                            }
                        }

                    } else {
                        component
                            .querySelector(".Comments__load-more")
                            .classList
                            .add("Comments__load-more_hidden")
                    }

                })
        }

    </script>
</body>
</html>